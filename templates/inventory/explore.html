{% extends "_base.html" %}
{% block content %}
<h1>Explore Items</h1>
<form method="get">
  <input type="text" name="q" value="{{ q }}" placeholder="Search" />
  <select name="active">
    <option value="" {% if not active %}selected{% endif %}>All</option>
    <option value="1" {% if active == '1' %}selected{% endif %}>Active</option>
    <option value="0" {% if active == '0' %}selected{% endif %}>Inactive</option>
  </select>
  <button type="submit">Filter</button>
</form>
<a href="{{ export_url }}?{{ querystring }}">Export CSV</a>
<ul>
{% for item in page_obj.object_list %}
  <li>{{ item.name }}</li>
{% empty %}
  <li>No results</li>
{% endfor %}
</ul>
<div class="pagination">
  {% if page_obj.has_previous %}
    <a href="?{{ querystring }}&page={{ page_obj.previous_page_number }}">Prev</a>
  {% endif %}
  <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
  {% if page_obj.has_next %}
    <a href="?{{ querystring }}&page={{ page_obj.next_page_number }}">Next</a>
  {% endif %}
</div>
{% endblock %}
