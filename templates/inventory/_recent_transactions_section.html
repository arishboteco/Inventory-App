{% extends "components/collapsible.html" %}
{% block title %}Recent Transactions{% endblock %}
{% block content %}
  <div class="max-md:overflow-x-auto">
    <table class="table w-full">
      <thead>
        <tr>
          <th>ID</th>
          <th>Item</th>
          <th>Type</th>
          <th>Qty</th>
          <th>User</th>
          <th>Date</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        {% for tx in page_obj %}
        <tr>
          <td>{{ tx.transaction_id }}</td>
          <td>{{ tx.item.name }}</td>
          <td>
            {% if tx.direction == 'in' %}
              <span class="badge-success">IN</span>
            {% else %}
              <span class="badge-error">OUT</span>
            {% endif %}
          </td>
          <td>{{ tx.quantity_change }}</td>
          <td>{{ tx.user_id }}</td>
          <td>{{ tx.transaction_date }}</td>
          <td>{{ tx.notes }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="7" class="p-2">No transactions found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="mt-4">
    {% include "components/pagination.html" with page_obj=page_obj base_url="" extra_query=query_string %}
  </div>
{% endblock %}
