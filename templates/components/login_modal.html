<div id="login-modal" class="fixed inset-0 hidden items-center justify-center bg-black/50 z-50">
  <div class="bg-white p-6 rounded shadow-lg w-full max-w-md relative">
    <button type="button" class="absolute top-2 right-2 text-bodyText hover:text-primary" data-close>
      <span class="sr-only">Close</span>
      &times;
    </button>
    <form method="post" class="grid gap-4">
      {% csrf_token %}
      <input type="hidden" name="next" value="{{ next }}">
      {% for field in form %}
        {% include "components/form_field.html" with field=field %}
      {% endfor %}
      <button type="submit" class="btn-primary w-full">Login</button>
    </form>
  </div>
</div>
<script>
  (function () {
    const modal = document.getElementById('login-modal');
    const openBtn = document.getElementById('open-login');
    const closeBtn = modal.querySelector('[data-close]');

    function open() {
      modal.classList.remove('hidden');
    }
    function close() {
      modal.classList.add('hidden');
    }
    openBtn && openBtn.addEventListener('click', open);
    closeBtn && closeBtn.addEventListener('click', close);
    modal.addEventListener('click', function (e) {
      if (e.target === modal) {
        close();
      }
    });
  })();
</script>
