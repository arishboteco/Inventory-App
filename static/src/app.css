@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
@import './tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    background-color: var(--color-body);
    color: var(--color-body-text);
    font-family: theme('fontFamily.sans');
  }

  /* Base link styles: underlined with primary color.
     Button classes (.btn-*) remove the underline. */
  a {
    color: var(--color-primary);
    text-decoration: underline;
  }
  a:visited {
    color: #4C1D95;
  }
  a:hover,
  a:focus {
    color: var(--color-link-hover);
  }
}

@layer components {
  .active { @apply font-bold underline; }
  /* Badge component styles */
  .badge-success,
  .badge-warning,
  .badge-error {
    @apply px-1.5 py-0.5 rounded;
  }
  .badge-success { @apply bg-green-700 text-white; }
  .badge-warning { @apply bg-amber-500 text-gray-900; }
  .badge-error { @apply bg-red-600 text-white; }


  /* Toast component styles */
  .toast { @apply absolute left-0 top-full mt-1 z-10; }

  /* Button styles */
  .btn-primary,
  .btn-secondary,
  .btn-danger,
  .btn-tertiary,
  .btn-outline {
    box-shadow: var(--shadow-btn);
  }

  .btn-primary {
    background-color: var(--color-primary);
    @apply text-white px-4 py-2 rounded transition-colors no-underline;
  }
  .btn-primary:hover {
    background-color: #1D4ED8;
  }
  .btn-primary:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: var(--color-primary);
  }
  .btn-primary:disabled { @apply opacity-50 cursor-not-allowed; }

  .btn-secondary {
    background-color: var(--color-secondary);
    @apply text-white px-4 py-2 rounded transition-colors no-underline;
  }
  .btn-secondary:hover {
    background-color: #165E2D;
  }
  .btn-secondary:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: var(--color-secondary);
  }
  .btn-secondary:disabled { @apply opacity-50 cursor-not-allowed; }

  .btn-tertiary {
    @apply px-4 py-2 rounded border transition-colors no-underline;
    background-color: theme('colors.form.bg', '#ffffff');
    color: theme('colors.bodyText');
    border-color: theme('colors.form.border');
  }
  .btn-tertiary:hover { @apply bg-gray-100; }
  .btn-tertiary:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: theme('colors.form.border');
  }
  .btn-tertiary:disabled { @apply opacity-50 cursor-not-allowed; }

  .btn-danger {
    background-color: theme('colors.danger');
    @apply text-white px-4 py-2 rounded transition-colors no-underline;
  }
  .btn-danger:hover {
    background-color: #992626;
  }
  .btn-danger:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: theme('colors.danger');
  }
  .btn-danger:disabled { @apply opacity-50 cursor-not-allowed; }

  .btn-outline {
    @apply px-4 py-2 border rounded transition-colors no-underline;
    background-color: transparent;
    color: theme('colors.bodyText');
    border-color: theme('colors.form.border');
  }
  .btn-outline:hover { @apply bg-gray-100; }
  .btn-outline:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: theme('colors.form.border');
  }
  .btn-outline:disabled { @apply opacity-50 cursor-not-allowed; }

  /* Navigation button styles */
  .nav-btn {
    @apply flex items-center justify-between px-3 py-2 rounded-md text-sm font-medium transition-colors outline-none text-white;
    background-color: transparent;
  }
  .nav-btn:hover,
  .nav-btn:focus {
    background-color: #1D4ED8;
    color: #ffffff;
  }
  .nav-btn:focus {
    @apply ring-2 ring-offset-2;
    --tw-ring-color: #1D4ED8;
  }

  /* Sidebar navigation links */
  .nav-link {
    @apply flex items-center gap-2 px-3 py-2 rounded-md text-bodyText transition-colors hover:bg-gray-100 hover:text-primary;
  }
  .nav-link-active {
    @apply bg-gray-100 text-primary font-medium;
  }

  /* Alert component styles */
  .alert {
    @apply px-8 max-md:px-6 max-sm:px-4 py-4 mb-4 border-l-4 rounded;
  }
  .alert-success {
    @apply bg-green-100 text-green-700 border-green-500;
  }
  .alert-warning {
    @apply bg-yellow-100 text-yellow-700 border-yellow-500;
  }
  .alert-error {
    @apply bg-red-100 text-red-700 border-red-500;
  }
  .alert-info {
    @apply bg-blue-100 text-blue-700 border-blue-500;
  }

  /* Form component styles */
  form label { @apply block mb-2; }
  form input:not([type='checkbox']):not([type='radio']),
  form select,
  form textarea,
  .form-control {
    font-family: theme('fontFamily.sans');
    border: 1px solid theme('colors.form.border');
    background-color: theme('colors.form.bg', '#ffffff');
    color: theme('colors.form.text');
    padding: var(--space-2);
    border-radius: var(--space-1);
    width: 100%;
  }
  form input:not([type='checkbox']):not([type='radio']):focus,
  form select:focus,
  form textarea:focus,
  .form-control:focus {
    outline: none;
    border-color: var(--color-primary);
    @apply shadow-form-focus;
  }

  .form-checkbox {
    border: 1px solid theme('colors.form.border');
    background-color: theme('colors.form.bg', '#ffffff');
    color: theme('colors.form.text');
    border-radius: var(--space-1);
  }

  .form-radio {
    border: 1px solid theme('colors.form.border');
    background-color: theme('colors.form.bg', '#ffffff');
    color: theme('colors.form.text');
    border-radius: 9999px;
    accent-color: var(--color-primary);
  }

  /* Table component styles */
  .table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 var(--space-2);
  }
  .table th,
  .table td {
    border: 1px solid theme('colors.table.border');
    padding: var(--space-4) var(--space-8);
    text-align: left;
  }
  .table thead {
    background-color: var(--color-primary);
    color: theme('colors.table.headerText');
  }
  .table tbody tr {
    background-color: theme('colors.form.bg', '#ffffff');
    transition: background-color 0.15s ease-in-out;
  }
  .table tbody tr:hover {
    background-color: theme('colors.table.hoverBg');
  }


  /* Pagination controls */
  .pagination-active { @apply px-3 py-1 border rounded bg-gray-200; }
  .pagination-input { @apply border rounded p-1; }
  .pagination-active:focus,
  .pagination-input:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: var(--color-primary);
  }
}

@layer utilities {
  /* Utilities rely on CSS variables for theming */
}

@media (max-width: 768px) {
  h1 { font-size: var(--font-size-h1); }
  h2 { font-size: var(--font-size-h2); }
  .badge-success,
  .badge-warning,
  .badge-error {
    font-size: var(--font-size-badge);
    padding: var(--space-0-5) var(--space-1);
  }
}
